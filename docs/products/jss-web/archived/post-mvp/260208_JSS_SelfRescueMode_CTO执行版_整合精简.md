# JSS Self-Rescue Mode - CTOæ‰§è¡Œç‰ˆï¼ˆæ•´åˆç²¾ç®€ç‰ˆï¼‰

> **æ–‡æ¡£ç±»å‹ï¼š** CTOæ‰§è¡ŒæŒ‡ä»¤ + å®Œæ•´å®æ–½æ–¹æ¡ˆ  
> **æ•´åˆè‡ªï¼š** 3ä»½Self-Rescue Modeå®Œæ•´æ–‡æ¡£  
> **åˆ›å»ºæ—¶é—´ï¼š** 2026-02-08  
> **ä¼˜å…ˆçº§ï¼š** ğŸŸ¡ P1 - æ ¸å¿ƒåŠŸèƒ½  
> **é¢„è®¡å®Œæˆï¼š** 2å‘¨

---

## ğŸ“‹ ä¸€å¥è¯æ‰§è¡ŒæŒ‡ä»¤

```
Self-Rescue Modeå¸®contractoræ•´ç†æ‰‹æœºç›¸å†Œé‡Œçš„å·¥åœ°ç…§ç‰‡
å…ˆè¿‡æ»¤ç”Ÿæ´»ç…§ï¼Œå†æŒ‰GPS+æ—¶é—´ç²—ç•¥åˆ†ç»„
åªå»ºè®®ä¸å†³å®šï¼Œç”¨æˆ·ç¡®è®¤åæ‰åº”ç”¨
```

---

## ğŸ¯ äº§å“æ ¸å¿ƒåŸåˆ™ï¼ˆå¿…é¡»ç†è§£ï¼‰

### ä¸‰æ¡é“å¾‹ï¼ˆä¸å¯è¿åï¼‰

**ğŸ§  é“å¾‹1ï¼šé»˜è®¤ä»€ä¹ˆéƒ½ä¸åš**
```
âŒ ä¸è‡ªåŠ¨æ”¹
âŒ ä¸è‡ªåŠ¨å½’æ¡£
âŒ ä¸"ç³»ç»Ÿå¸®ä½ åšä¸»"
```

**ğŸ‘† é“å¾‹2ï¼šæ¯ä¸€æ­¥éƒ½æ˜¯"æˆ‘è‡ªå·±ç‚¹çš„"**
```
åˆ†ç»„æ˜¯ï¼šå»ºè®®åˆ†ç»„
å½’æ¡£æ˜¯ï¼šä½ ç‚¹ç¡®è®¤
æ”¹é”™æ˜¯ï¼šä½ éšæ—¶èƒ½æ’¤
```

**ğŸ“ é“å¾‹3ï¼šå®ƒå¤„ç†çš„æ˜¯"æˆ‘è‡ªå·±çš„ç…§ç‰‡"**
```
æ¥æºï¼šæ‰‹æœºç›¸å†Œ / ç¡¬ç›˜ / æ—§é¡¹ç›®å¯¼å‡º
è¯­ä¹‰ï¼š"æˆ‘åœ¨æ•´ç†æˆ‘è‡ªå·±çš„ä¸œè¥¿"
```

---

## ğŸš« ç«‹å³ä¿®æ­£ï¼ˆCEOåé¦ˆçš„5ä¸ªé—®é¢˜ï¼‰

### ä¿®æ­£1ï¼šDate rangeå¿…é¡»çœŸå®å®Œæ•´

**âŒ é”™è¯¯ï¼š**
```
Date range: 2025 - 2025
```

**âœ… æ­£ç¡®ï¼š**
```
Date range: Jul 2021 â€“ Aug 2026
(based on photo metadata)
```

---

### ä¿®æ­£2ï¼šè‡ªåŠ¨è¿‡æ»¤ç”Ÿæ´»ç…§

**å¿…é¡»è¿‡æ»¤ï¼š**
```
- æœºåœº/é…’åº—/æ™¯ç‚¹
- äººåƒ/å® ç‰©/é£Ÿç‰©
- å®¶åº­ç¯å¢ƒ
```

**åŸåˆ™ï¼š**
```
æ¼æ‰æ²¡å…³ç³»ï¼Œæ•‘é”™æ‰æ˜¯ç¾éš¾
ç›®æ ‡ï¼šå¿«é€Ÿæ¸…æ‰80%æ˜æ˜¾åƒåœ¾
```

**UIå‘ˆç°ï¼š**
```
âŒ 80 locations found
âœ… 12 likely job sites found
   (filtered from personal & travel photos)
```

---

### ä¿®æ­£3ï¼šGPSâ†’Addressé¢„å¡«ï¼Œä¸è¦Example

**æ­£ç¡®æ ¼å¼ï¼š**
```
Burnaby â€“ 8290 Kingsway
Vancouver â€“ 5862 Cambie St
```

**UIæ–‡æ¡ˆï¼š**
```
Suggested name based on location
You can rename later
```

---

### ä¿®æ­£4ï¼šä¸æ˜¾ç¤ºsession/unitï¼ˆç®€åŒ–ï¼‰

**âœ… Rescue Modeåªåš2å±‚ï¼š**

**Layer 1: Job/Building**
```
Burnaby â€“ 8290 Kingsway
360 photos Â· Julâ€“Aug 2025
```

**Layer 2: Photo preview**
```
- æŒ‰æ—¶é—´æ’åº
- ä¸è¦session
- ä¸è¦unit  
- ä¸è¦hour

åªè®©ç”¨æˆ·åˆ¤æ–­ï¼š"è¿™æ˜¯åŒä¸€ä¸ªå·¥åœ°å—ï¼Ÿ"
```

**åŸåˆ™ï¼š**
```
Rescue Mode solves "which job"
not "which unit"
```

---

### ä¿®æ­£5ï¼šMobileå•å±ï¼Œæ— æ¨ªå‘æº¢å‡º

**ç¡¬æ€§è¦æ±‚ï¼š**
```
âœ… æ‰€æœ‰ä¸»æ“ä½œå•å±å¯è§
âœ… æ— æ¨ªå‘æ»šåŠ¨
âœ… CTAå›ºå®šåº•éƒ¨ï¼ˆsafe areaï¼‰
âœ… one-thumb usable
```

---

## ğŸ“ ç®€åŒ–æµç¨‹ï¼ˆ3æ­¥ï¼Œä¸æ˜¯5æ­¥ï¼‰

### Step 1: Scan & Filter

**UIï¼š**
```
Scanning your photosâ€¦
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ

Found:
â€¢ 1,160 photos total
â€¢ 740 likely jobsite photos
â€¢ 420 personal/travel photos (filtered out)

Date range: Jul 2021 â€“ Aug 2026
```

**è§„åˆ™ï¼š**
```
- åªæ˜¾ç¤ºäº‹å®ç»Ÿè®¡
- ä¸å‡ºç°é¡¹ç›®å
- ä¸åšå½’å±åˆ¤æ–­
```

---

### Step 2: Review Groups

**UIï¼š**
```
Suggested groups (nothing applied yet)

Burnaby â€“ 8290 Kingsway
â‰ˆ 360 photos Â· Julâ€“Aug 2025
[Preview] [Name this job] [Skip]

Vancouver â€“ 5862 Cambie St
â‰ˆ 210 photos Â· Febâ€“Apr 2024
[Preview] [Name this job] [Skip]
```

**è§„åˆ™ï¼š**
```
- GPSâ†’Addressè‡ªåŠ¨é¢„å¡«
- ç”¨æˆ·å¯ä»¥æ”¹å
- ç”¨æˆ·å¯ä»¥è·³è¿‡
- ä¸å¼ºåˆ¶å‘½å
```

---

### Step 3: Confirm & Apply

**UIï¼š**
```
Review & confirm

You're about to organize:
â€¢ 3 groups named as jobs
â€¢ 570 photos organized
â€¢ 0 photos deleted

Nothing changes until you click Confirm.

[Confirm & apply] [Go back]
```

**Applyåï¼š**
```
Banner: Rescue applied
        Undo available for 24 hours
        [Undo]
```

---

## ğŸ’» æ ¸å¿ƒå®æ–½æ–¹æ¡ˆ

### æŠ€æœ¯æ ˆç¡®è®¤

```
Frontend: Next.js (App Router) + React + Zustand
Backend: Supabase + GPSèšç±»ç®—æ³•
```

---

### è·¯ç”±ç»“æ„

```
/rescue/scan           - æ‰«æä¸è¿‡æ»¤
/rescue/groups         - åˆ†ç»„åˆ—è¡¨
/rescue/groups/[id]    - åˆ†ç»„è¯¦æƒ…ï¼ˆå¯é€‰ï¼‰
/rescue/confirm        - ç¡®è®¤åº”ç”¨
```

---

### çŠ¶æ€ç®¡ç†ï¼ˆZustandï¼‰

```typescript
type RescueStore = {
  // æ‰«æç»“æœ
  photos: RescuePhoto[]
  groups: PhotoGroup[]
  
  // ç”¨æˆ·ç¼–è¾‘
  groupNames: Map<string, string>  // groupId -> ç”¨æˆ·å‘½å
  skippedGroups: Set<string>       // ç”¨æˆ·è·³è¿‡çš„group
  
  // çŠ¶æ€
  phase: 'scan' | 'review' | 'confirm' | 'applied'
  
  // æ“ä½œ
  nameGroup: (groupId: string, name: string) => void
  skipGroup: (groupId: string) => void
  confirmApply: () => Promise<void>
  undo: () => Promise<void>
}
```

---

### æ•°æ®ç±»å‹

```typescript
type RescuePhoto = {
  photoId: string
  localUri: string
  takenAtUtc: string
  lat?: number
  lng?: number
  filtered: boolean  // æ˜¯å¦è¢«è¿‡æ»¤ä¸ºç”Ÿæ´»ç…§
}

type PhotoGroup = {
  groupId: string
  photoIds: string[]
  centroid: { lat: number; lng: number }
  dateRange: { start: string; end: string }
  suggestedAddress?: string
  stats: {
    photoCount: number
    spanDays: number
  }
}
```

---

## ğŸ« æ‰§è¡ŒTicketsï¼ˆ7ä¸ªï¼Œç®€åŒ–ç‰ˆï¼‰

### T1 - Scané¡µé¢ï¼ˆè¿‡æ»¤ + ç»Ÿè®¡ï¼‰

**Scope:**
```
- æ‰«æè¿›åº¦æ¡
- å®æ—¶countersï¼ˆtotal / jobsite / filtered / date rangeï¼‰
- è‡ªåŠ¨è¿‡æ»¤ç”Ÿæ´»ç…§
- å®Œæˆå â†’ /rescue/groups
```

**éªŒæ”¶ï¼š**
```
â˜ Date rangeçœŸå®å®Œæ•´
â˜ è¿‡æ»¤è§„åˆ™æ­£ç¡®ï¼ˆæœºåœº/äººåƒ/å® ç‰©ç­‰ï¼‰
â˜ UIæ— æ¨ªå‘æº¢å‡º
```

---

### T2 - Groupsåˆ—è¡¨é¡µé¢

**Scope:**
```
- GroupCardåˆ—è¡¨
- æ¯ä¸ªcardæ˜¾ç¤ºï¼š
  - GPSâ†’Addressé¢„å¡«åç§°
  - Photo count + date range
  - Preview thumbnailsï¼ˆ3-5å¼ ï¼‰
  - Actions: Name/Preview/Skip
```

**éªŒæ”¶ï¼š**
```
â˜ é¢„å¡«åœ°å€æ ¼å¼æ­£ç¡®ï¼ˆCity â€“ Addressï¼‰
â˜ ç”¨æˆ·å¯ç¼–è¾‘åç§°
â˜ Skip groupä¸å½±å“å…¶ä»–group
```

---

### T3 - Name Groupäº¤äº’

**Scope:**
```
- Inputé¢„å¡«suggestedAddress
- ç”¨æˆ·å¯ä»¥ï¼š
  - ç›´æ¥æ¥å—ï¼ˆæŒ‰Enterï¼‰
  - ä¿®æ”¹éƒ¨åˆ†
  - å…¨åˆ é‡å†™
- ä¿å­˜åˆ°groupNames
```

**éªŒæ”¶ï¼š**
```
â˜ é¢„å¡«ä¸ç­‰äºè‡ªåŠ¨ç¡®è®¤
â˜ ç”¨æˆ·å¿…é¡»æœ‰æ˜ç¡®æ“ä½œ
â˜ å¯ä»¥ç•™ç©ºï¼ˆKeep unassignedï¼‰
```

---

### T4 - Preview Drawerï¼ˆå¯é€‰ï¼‰

**Scope:**
```
- æ‰“å¼€groupè¯¦æƒ…
- æŒ‰æ—¶é—´æ’åºçš„ç…§ç‰‡ç½‘æ ¼
- ä¸æ˜¾ç¤ºsession/unit
- åªç”¨äºreviewï¼Œä¸åšç¼–è¾‘
```

**éªŒæ”¶ï¼š**
```
â˜ ç…§ç‰‡æŒ‰æ—¶é—´æ’åº
â˜ æ— session/unitæ¦‚å¿µ
â˜ ä¸èƒ½æ‹–æ‹½é‡æ–°åˆ†ç»„
```

---

### T5 - Confirmé¡µé¢

**Scope:**
```
- æ±‡æ€»ç»Ÿè®¡ï¼ˆgroups/photos/deletedï¼‰
- æ˜ç¡®æ–‡æ¡ˆï¼š"Nothing changes until you click Confirm"
- ConfirmæŒ‰é’® + Go back
- Applyåæ˜¾ç¤ºUndo banner
```

**éªŒæ”¶ï¼š**
```
â˜ ç»Ÿè®¡æ•°å­—å‡†ç¡®
â˜ Applyå‰ä¸ä¿®æ”¹æ•°æ®
â˜ Undo bannerå¯ç”¨ï¼ˆ24hï¼‰
```

---

### T6 - GPSèšç±»ç®—æ³•ï¼ˆåç«¯ï¼‰

**Scope:**
```
- è¾“å…¥ï¼šRescuePhoto[]
- ç®—æ³•ï¼šDBSCANæˆ–ç®€å•è·ç¦»èšç±»
- è¾“å‡ºï¼šPhotoGroup[]
- è¿‡æ»¤è§„åˆ™ï¼šæœºåœº/äººåƒ/å® ç‰©ç­‰
```

**éªŒæ”¶ï¼š**
```
â˜ è·ç¦»é˜ˆå€¼ï¼š30-50m
â˜ æ—¶é—´è¿ç»­æ€§è€ƒè™‘
â˜ ç”Ÿæ´»ç…§è¿‡æ»¤ç‡>80%
```

---

### T7 - Reverse Geocodingï¼ˆåœ°å€é¢„å¡«ï¼‰

**Scope:**
```
- è°ƒç”¨geocoding API
- æ ¼å¼åŒ–ä¸ºï¼šCity â€“ Address
- ä½œä¸ºsuggestedAddresså­˜å‚¨
- å…è®¸ç”¨æˆ·ä¿®æ”¹
```

**éªŒæ”¶ï¼š**
```
â˜ æ ¼å¼ç»Ÿä¸€ï¼ˆCity â€“ Addressï¼‰
â˜ APIå¤±è´¥fallbackåˆ°GPSåæ ‡
â˜ ä¸é˜»å¡ä¸»æµç¨‹
```

---

## ğŸ”’ é˜²æŠ¤è§„åˆ™ï¼ˆå¿…é¡»å®æ–½ï¼‰

### UIæ–‡æ¡ˆè§„åˆ™

**âœ… å…è®¸ä½¿ç”¨ï¼š**
```
noticed / seems / suggest / might / likely
```

**âŒ ç¦æ­¢ä½¿ç”¨ï¼š**
```
detected / automatically / AI decided / confirmed
```

---

### æ•°æ®ä¸å˜é‡

```typescript
// INV-A: filtered photosä¸è¿›å…¥groups
assert(!groups.some(g => 
  g.photoIds.some(pid => 
    photos.find(p => p.photoId === pid)?.filtered
  )
))

// INV-B: ä¸€ä¸ªphotoä¸èƒ½åœ¨å¤šä¸ªgroup
const allGroupPhotoIds = groups.flatMap(g => g.photoIds)
assert(allGroupPhotoIds.length === new Set(allGroupPhotoIds).size)

// INV-C: Applyå‰groupNamesåªå­˜åœ¨å†…å­˜
assert(!hasWrittenToDatabase)
```

---

### Mobile-Firstæ£€æŸ¥æ¸…å•

```
â˜ æ‰€æœ‰å¡ç‰‡å•åˆ—æ˜¾ç¤º
â˜ CTAæŒ‰é’®minimum 44Ã—44pt
â˜ æ— éœ€æ¨ªå‘æ»šåŠ¨
â˜ å…³é”®æ“ä½œåœ¨thumb zone
â˜ å­—ä½“å¤§å°>=14px
```

---

## ğŸ“„ å…³é”®é¡µé¢ä»£ç 

### 1. Scané¡µé¢

```typescript
// app/rescue/scan/page.tsx
"use client"

import { useEffect, useState } from "react"
import { useRouter } from "next/navigation"
import { useRescueStore } from "@/lib/rescue/store"

export default function ScanPage() {
  const router = useRouter()
  const [progress, setProgress] = useState(0)
  const [stats, setStats] = useState({
    total: 0,
    jobsite: 0,
    filtered: 0,
    dateRange: ""
  })

  useEffect(() => {
    // æ¨¡æ‹Ÿæ‰«æè¿‡ç¨‹
    const scan = async () => {
      // è°ƒç”¨åç«¯APIæˆ–æœ¬åœ°æ‰«æ
      const result = await scanPhotos()
      
      setStats({
        total: result.photos.length,
        jobsite: result.photos.filter(p => !p.filtered).length,
        filtered: result.photos.filter(p => p.filtered).length,
        dateRange: formatDateRange(result.photos)
      })
      
      // ä¿å­˜åˆ°store
      useRescueStore.setState({
        photos: result.photos,
        groups: result.groups,
        phase: 'review'
      })
      
      router.push('/rescue/groups')
    }
    
    scan()
  }, [])

  return (
    <div className="p-6">
      <h1 className="text-2xl font-bold mb-4">
        Scanning your photosâ€¦
      </h1>
      
      <div className="h-2 w-full bg-gray-200 rounded-full mb-6">
        <div 
          className="h-2 bg-blue-500 rounded-full transition-all"
          style={{ width: `${progress}%` }}
        />
      </div>
      
      <div className="space-y-2 text-gray-700">
        <div>â€¢ {stats.total} photos total</div>
        <div>â€¢ {stats.jobsite} likely jobsite photos</div>
        <div>â€¢ {stats.filtered} personal/travel photos (filtered out)</div>
        <div className="mt-4 font-semibold">
          Date range: {stats.dateRange}
        </div>
      </div>
      
      <div className="mt-6 text-sm text-gray-500">
        Suggestions only. Nothing changes unless you confirm.
      </div>
    </div>
  )
}
```

---

### 2. Groupsåˆ—è¡¨é¡µé¢

```typescript
// app/rescue/groups/page.tsx
"use client"

import { useRescueStore } from "@/lib/rescue/store"
import { useState } from "react"

export default function GroupsPage() {
  const { groups, groupNames, nameGroup, skipGroup } = useRescueStore()
  const [editingGroupId, setEditingGroupId] = useState<string | null>(null)

  return (
    <div className="p-6 max-w-3xl mx-auto">
      <h1 className="text-2xl font-bold mb-2">
        Suggested groups
      </h1>
      <p className="text-gray-600 mb-6">
        Nothing applied yet. Review and name your jobs.
      </p>

      <div className="space-y-4">
        {groups.map(group => (
          <GroupCard
            key={group.groupId}
            group={group}
            currentName={groupNames.get(group.groupId)}
            isEditing={editingGroupId === group.groupId}
            onStartEdit={() => setEditingGroupId(group.groupId)}
            onSaveName={(name) => {
              nameGroup(group.groupId, name)
              setEditingGroupId(null)
            }}
            onSkip={() => skipGroup(group.groupId)}
          />
        ))}
      </div>

      <div className="mt-8 flex gap-4">
        <button
          className="flex-1 bg-blue-500 text-white py-3 rounded-lg"
          onClick={() => router.push('/rescue/confirm')}
        >
          Review & confirm
        </button>
        <button
          className="px-6 py-3 border rounded-lg"
          onClick={() => router.push('/')}
        >
          Exit
        </button>
      </div>
    </div>
  )
}

function GroupCard({ group, currentName, isEditing, onStartEdit, onSaveName, onSkip }) {
  const [inputValue, setInputValue] = useState(
    currentName || group.suggestedAddress || ""
  )

  return (
    <div className="border rounded-lg p-4">
      <div className="flex items-start justify-between gap-4">
        <div className="flex-1">
          {isEditing ? (
            <div>
              <input
                type="text"
                className="w-full border rounded px-3 py-2 mb-2"
                value={inputValue}
                onChange={(e) => setInputValue(e.target.value)}
                placeholder="Job name"
                autoFocus
              />
              <div className="text-sm text-gray-500 mb-2">
                Suggested: {group.suggestedAddress}
              </div>
              <div className="flex gap-2">
                <button
                  className="bg-blue-500 text-white px-4 py-1 rounded text-sm"
                  onClick={() => onSaveName(inputValue)}
                >
                  Save
                </button>
                <button
                  className="border px-4 py-1 rounded text-sm"
                  onClick={() => setInputValue(currentName || group.suggestedAddress || "")}
                >
                  Cancel
                </button>
              </div>
            </div>
          ) : (
            <div>
              <div className="font-semibold text-lg mb-1">
                {currentName || group.suggestedAddress || `Group ${group.groupId}`}
              </div>
              <div className="text-sm text-gray-600">
                {group.stats.photoCount} photos Â· {formatDateRange(group.dateRange)}
              </div>
              {!currentName && group.suggestedAddress && (
                <div className="text-xs text-gray-500 mt-1">
                  Suggested name based on location
                </div>
              )}
            </div>
          )}
        </div>

        {!isEditing && (
          <div className="flex gap-2">
            <button
              className="border px-4 py-2 rounded text-sm"
              onClick={onStartEdit}
            >
              Name
            </button>
            <button
              className="border px-4 py-2 rounded text-sm text-gray-600"
              onClick={onSkip}
            >
              Skip
            </button>
          </div>
        )}
      </div>

      {/* Preview thumbnails */}
      <div className="mt-3 flex gap-2 overflow-x-auto">
        {group.previewThumbnails?.slice(0, 5).map((thumb, i) => (
          <img
            key={i}
            src={thumb}
            className="w-16 h-16 object-cover rounded"
            alt=""
          />
        ))}
      </div>
    </div>
  )
}
```

---

### 3. Confirmé¡µé¢

```typescript
// app/rescue/confirm/page.tsx
"use client"

import { useRescueStore } from "@/lib/rescue/store"
import { useRouter } from "next/navigation"

export default function ConfirmPage() {
  const router = useRouter()
  const { groups, groupNames, skippedGroups, confirmApply } = useRescueStore()

  const namedGroups = groups.filter(g => 
    groupNames.has(g.groupId) && !skippedGroups.has(g.groupId)
  )
  
  const totalPhotos = namedGroups.reduce((sum, g) => 
    sum + g.stats.photoCount, 0
  )

  const handleConfirm = async () => {
    await confirmApply()
    router.push('/rescue/done')
  }

  return (
    <div className="p-6 max-w-2xl mx-auto">
      <h1 className="text-2xl font-bold mb-6">
        Review & confirm
      </h1>

      <div className="bg-gray-50 rounded-lg p-6 mb-6">
        <div className="space-y-3">
          <div className="flex justify-between">
            <span className="text-gray-700">Groups named:</span>
            <span className="font-semibold">{namedGroups.length}</span>
          </div>
          <div className="flex justify-between">
            <span className="text-gray-700">Photos organized:</span>
            <span className="font-semibold">{totalPhotos}</span>
          </div>
          <div className="flex justify-between">
            <span className="text-gray-700">Photos deleted:</span>
            <span className="font-semibold">0</span>
          </div>
        </div>
      </div>

      <div className="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
        <div className="text-sm text-blue-900">
          Nothing changes until you click Confirm.
          <br />
          You can undo for 24 hours.
        </div>
      </div>

      <div className="space-y-3">
        {namedGroups.map(group => (
          <div key={group.groupId} className="border rounded p-3">
            <div className="font-semibold">
              {groupNames.get(group.groupId)}
            </div>
            <div className="text-sm text-gray-600">
              {group.stats.photoCount} photos
            </div>
          </div>
        ))}
      </div>

      <div className="mt-8 flex gap-4">
        <button
          className="flex-1 bg-blue-500 text-white py-3 rounded-lg font-semibold"
          onClick={handleConfirm}
        >
          Confirm & apply
        </button>
        <button
          className="px-6 py-3 border rounded-lg"
          onClick={() => router.back()}
        >
          Go back
        </button>
      </div>
    </div>
  )
}
```

---

## ğŸ§ª æµ‹è¯•ä¸éªŒæ”¶

### åŠŸèƒ½æµ‹è¯•

```
â˜ Scanæ­£ç¡®è¿‡æ»¤ç”Ÿæ´»ç…§
â˜ Date rangeæ˜¾ç¤ºçœŸå®å®Œæ•´
â˜ GPSâ†’Addressæ ¼å¼æ­£ç¡®
â˜ ç”¨æˆ·å¯ä»¥ç¼–è¾‘/è·³è¿‡ä»»ä½•group
â˜ Confirmå‰ä¸å†™å…¥æ•°æ®åº“
â˜ Applyåæ˜¾ç¤ºUndo banner
â˜ UndoåŠŸèƒ½æ­£å¸¸å·¥ä½œ
```

---

### UIæµ‹è¯•ï¼ˆMobileï¼‰

```
â˜ æ‰€æœ‰é¡µé¢æ— æ¨ªå‘æ»šåŠ¨
â˜ æ–‡å­—å¤§å°>=14px
â˜ CTAæŒ‰é’®>=44Ã—44pt
â˜ å•æ‰‹æ‹‡æŒ‡å¯å®Œæˆæ‰€æœ‰æ“ä½œ
â˜ åœ¨iPhone SEä¸Šæ­£å¸¸æ˜¾ç¤º
```

---

### æ–‡æ¡ˆæµ‹è¯•

```
â˜ ä¸å‡ºç°"automatically"
â˜ ä¸å‡ºç°"AI decided"
â˜ æ‰€æœ‰å»ºè®®ç”¨"seems/might/suggested"
â˜ æ˜ç¡®è¯´æ˜"Nothing changes unless you confirm"
```

---

### æ€§èƒ½æµ‹è¯•

```
â˜ 1000å¼ ç…§ç‰‡æ‰«æ<5ç§’
â˜ Groupsåˆ—è¡¨æ¸²æŸ“æµç•…
â˜ ç…§ç‰‡é¢„è§ˆä¸å¡é¡¿
```

---

## ğŸ“Š å®æ–½æ—¶é—´è¡¨

### Week 1

```
Day 1-2: T1 (Scané¡µé¢)
Day 3-4: T2 (Groupsåˆ—è¡¨)
Day 5: T3 (Nameäº¤äº’)
```

---

### Week 2

```
Day 1-2: T4-T5 (Preview + Confirm)
Day 3-4: T6-T7 (åç«¯èšç±» + Geocoding)
Day 5: æµ‹è¯•ä¸ä¿®æ­£
```

---

## âš ï¸ å¸¸è§é”™è¯¯ä¸é¿å…

### é”™è¯¯1ï¼šè‡ªåŠ¨åº”ç”¨åˆ†ç»„

**âŒ é”™è¯¯åšæ³•ï¼š**
```typescript
// æ‰«æå®Œç«‹å³åˆ›å»ºé¡¹ç›®
await createProjects(groups)
```

**âœ… æ­£ç¡®åšæ³•ï¼š**
```typescript
// åªä¿å­˜åˆ°ä¸´æ—¶çŠ¶æ€
useRescueStore.setState({ groups, phase: 'review' })
// ç”¨æˆ·ç¡®è®¤åæ‰åˆ›å»º
```

---

### é”™è¯¯2ï¼šå¼ºåˆ¶å‘½å

**âŒ é”™è¯¯åšæ³•ï¼š**
```
required input, ä¸å…è®¸è·³è¿‡
```

**âœ… æ­£ç¡®åšæ³•ï¼š**
```
optional input, å¯ä»¥Skipæˆ–Keep unassigned
```

---

### é”™è¯¯3ï¼šæ˜¾ç¤ºsession/unit

**âŒ é”™è¯¯åšæ³•ï¼š**
```
Session 10:00-11:30 Â· Unit A
```

**âœ… æ­£ç¡®åšæ³•ï¼š**
```
360 photos Â· Julâ€“Aug 2025
åªæ˜¾ç¤ºæ€»æ•°å’Œæ—¥æœŸèŒƒå›´
```

---

## ğŸ’¬ æœ€åæ£€æŸ¥æ¸…å•

### äº§å“å®Œæˆå®šä¹‰

```
âœ… ç”¨æˆ·èƒ½è¯´å‡ºï¼š
   "ç°åœ¨è¿™äº›ç…§ç‰‡çœ‹èµ·æ¥åƒå‡ ä¸ªæ¸…æ¥šçš„å·¥åœ°äº†"

âœ… ç”¨æˆ·æ²¡æœ‰è¢«è¿«ç†è§£ä»»ä½•æ–°æ¦‚å¿µ

âœ… ç”¨æˆ·æ²¡æœ‰æ€€ç–‘æ•°æ®çœŸå®æ€§

âœ… ç”¨æˆ·æ„Ÿè§‰"è¿™æ˜¯æˆ‘è‡ªå·±åœ¨æ•´ç†ï¼Œä¸æ˜¯ç³»ç»Ÿå¸®æˆ‘åšä¸»"
```

---

### æŠ€æœ¯å®Œæˆå®šä¹‰

```
âœ… æ‰€æœ‰Ticketså®Œæˆä¸”éªŒæ”¶é€šè¿‡
âœ… Mobile UIæ— æ¨ªå‘æº¢å‡º
âœ… æ–‡æ¡ˆç¬¦åˆè§„åˆ™ï¼ˆsuggestä¸è¯´autoï¼‰
âœ… ä¸å˜é‡æ£€æŸ¥é€šè¿‡
âœ… æ€§èƒ½è¾¾æ ‡ï¼ˆ1000å¼ <5ç§’ï¼‰
âœ… UndoåŠŸèƒ½æ­£å¸¸
```

---

**æ–‡æ¡£ç‰ˆæœ¬ï¼š** v1.0  
**åˆ›å»ºäººï¼š** CPOï¼ˆæ•´åˆï¼‰  
**å®¡æ ¸äººï¼š** CEO  
**æ‰§è¡Œäººï¼š** CTO + å‰åç«¯å›¢é˜Ÿ  
**ç”Ÿæ•ˆæ—¥æœŸï¼š** ç«‹å³ç”Ÿæ•ˆ  
**é¢„è®¡å®Œæˆï¼š** 2å‘¨

---

**Self-Rescue Modeï¼šè®©contractorç¬¬ä¸€æ¬¡æŠŠè‡ªå·±çš„äººç”Ÿç›¸å†Œæ•‘å›æ¥ï¼** ğŸ¯
