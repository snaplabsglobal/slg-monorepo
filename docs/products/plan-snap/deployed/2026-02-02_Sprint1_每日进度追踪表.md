# Sprint 1 每日进度追踪表

> **Sprint Duration:** 2-3 周  
> **Start Date:** 2026-02-02  
> **Team:** CTO + 开发团队

---

## 📊 进度总览

| 分组 | 完成 / 总数 | 进度 | 状态 |
|------|-------------|------|------|
| A. 共用底层 | 0 / 5 | 0% | ⏳ 待开始 |
| B. IsoSnap MVP | 0 / 5 | 0% | ⏳ 待开始 |
| C. PlanSnap MVP | 0 / 4 | 0% | ⏳ 待开始 |
| D. 集成测试 | 0 / 2 | 0% | ⏳ 待开始 |
| **总计** | **0 / 16** | **0%** | ⏳ 待开始 |

---

## Week 1 - 每日任务清单

### Day 1 (2026-02-02) - 周一

**目标：** 架构搭建

- [ ] Task A1: 项目架构搭建
  - [ ] 建立 Monorepo 结构
  - [ ] 配置构建工具
  - [ ] 配置 TypeScript
  - [ ] 验收：两个 app 可以独立启动

**End of Day 验收：**
```bash
✅ npm run dev:plan  # 成功启动
✅ npm run dev:iso   # 成功启动
```

---

### Day 2 (2026-02-03) - 周二

**目标：** Canvas 渲染 + 本地存储

**上午：**
- [ ] Task A2: Canvas 渲染引擎
  - [ ] 选择 Canvas 库（推荐 Konva.js）
  - [ ] 实现 CanvasEngine 基类
  - [ ] 实现基础操作（Pan, Zoom, Clear）

**下午：**
- [ ] Task A3: 本地存储引擎
  - [ ] 实现 StorageEngine（IndexedDB）
  - [ ] 定义数据结构
  - [ ] 测试保存和加载

**End of Day 验收：**
```bash
✅ 画布可以 Pan 和 Zoom
✅ 数据可以保存到 IndexedDB
✅ 刷新后可以恢复
```

---

### Day 3 (2026-02-04) - 周三

**目标：** 导出引擎 + IsoSnap 数据模型

**上午：**
- [ ] Task A4: 导出引擎
  - [ ] 实现 ExportEngine 基类
  - [ ] 实现 PNG 导出
  - [ ] 实现 PDF 导出
  - [ ] 添加免责声明

**下午：**
- [ ] Task B1: IsoSnap 数据模型
  - [ ] 定义 Node, Segment, Fixture 类型
  - [ ] 定义 IsoState
  - [ ] 文档和注释

**End of Day 验收：**
```bash
✅ 可以导出 PNG 和 PDF
✅ IsoSnap 数据模型定义完成
```

---

### Day 4 (2026-02-05) - 周四

**目标：** IsoSnap 绘制逻辑（Part 1）

- [ ] Task B2.1: 三方向锁定算法
  - [ ] 实现 lockToDirection 函数
  - [ ] 测试 vertical, left-down, right-down
- [ ] Task B2.2: 节点捕捉算法
  - [ ] 实现 findNearestNode 函数
  - [ ] 测试吸附距离（15px）

**End of Day 验收：**
```bash
✅ 画线时只能画3种方向
✅ 鼠标靠近节点时自动吸附
```

---

### Day 5 (2026-02-06) - 周五

**目标：** IsoSnap 绘制逻辑（Part 2）

- [ ] Task B2.3: 绘制交互
  - [ ] 实现 handleMouseDown
  - [ ] 实现 handleMouseMove
  - [ ] 实现 handleMouseUp
  - [ ] 实现节点和线段创建

**End of Day 验收：**
```bash
✅ 可以画一条完整的管道
✅ 线段确实连接到节点
✅ 画完自动切换到 Select
```

**🎯 Week 1 里程碑验收：**
```
✅ 架构搭建完成
✅ 共用底层基本完成
✅ IsoSnap 可以画基本的管道
```

---

## Week 2 - 每日任务清单

### Day 6 (2026-02-09) - 周一

**目标：** IsoSnap 编辑能力（Part 1）

- [ ] Task B3.1: Select 模式
  - [ ] 点选节点和线段
  - [ ] 多选（Shift）
  - [ ] 显示选中状态

**End of Day 验收：**
```bash
✅ 可以点选节点和线段
✅ 选中对象高亮显示
```

---

### Day 7 (2026-02-10) - 周二

**目标：** IsoSnap 编辑能力（Part 2） + 视觉反馈

**上午：**
- [ ] Task B3.2: 节点拖动和框选
  - [ ] 拖动节点（线段跟随）
  - [ ] 框选多个对象
  - [ ] Delete 删除

**下午：**
- [ ] Task B4: 视觉反馈
  - [ ] Hover 节点高亮
  - [ ] 可捕捉节点提示（绿色圈）
  - [ ] 选中高亮
  - [ ] 虚线预览

**End of Day 验收：**
```bash
✅ 可以拖动节点
✅ 可以框选
✅ 所有视觉反馈正常
```

---

### Day 8 (2026-02-11) - 周三

**目标：** IsoSnap 完善 + PlanSnap 开始

**上午：**
- [ ] Task B3.3: Undo/Redo
  - [ ] 实现历史记录
  - [ ] Undo 功能
  - [ ] Redo 功能
  - [ ] 至少 20 步

**下午：**
- [ ] Task B5: Fixture 和管径标注
  - [ ] Fixture 放置
  - [ ] 管径标注显示
- [ ] Task C1: PlanSnap 数据模型
  - [ ] 定义 Wall, Room, Symbol 类型

**End of Day 验收：**
```bash
✅ Undo/Redo 可用
✅ Fixture 可以放置
✅ 管径标注显示
✅ PlanSnap 数据模型定义完成
```

---

### Day 9 (2026-02-12) - 周四

**目标：** PlanSnap 绘图引擎

- [ ] Task C2.1: 墙体绘制
  - [ ] 实现墙体绘制逻辑
  - [ ] Grid 系统
  - [ ] Snap to grid

**End of Day 验收：**
```bash
✅ 可以画墙
✅ Grid 显示正常
✅ 自动对齐到 Grid
```

---

### Day 10 (2026-02-13) - 周五

**目标：** PlanSnap 绘图引擎（续）

- [ ] Task C2.2: 渲染优化
  - [ ] 墙体渲染
  - [ ] Grid 渲染
  - [ ] 性能优化

**End of Day 验收：**
```bash
✅ 可以画多面墙
✅ 渲染流畅（60fps）
```

**🎯 Week 2 里程碑验收：**
```
✅ IsoSnap 基本完成
✅ PlanSnap 可以画基本的墙
```

---

## Week 3 - 每日任务清单（可选）

### Day 11 (2026-02-16) - 周一

**目标：** PlanSnap 交互

- [ ] Task C3: 交互能力
  - [ ] Select 和拖动
  - [ ] 拉伸墙
  - [ ] 对齐辅助线
  - [ ] 框选

**End of Day 验收：**
```bash
✅ 可以选择和拖动墙
✅ 可以拉伸墙
✅ 对齐辅助线显示
```

---

### Day 12 (2026-02-17) - 周二

**目标：** PlanSnap 导出 + PWA

**上午：**
- [ ] Task C4: PlanSnap 导出
  - [ ] 实现 PlanExportEngine
  - [ ] 建筑师风格图框
  - [ ] 测试 PDF 导出

**下午：**
- [ ] Task A5: PWA 基础配置
  - [ ] manifest.json
  - [ ] Service Worker
  - [ ] 图标

**End of Day 验收：**
```bash
✅ PlanSnap 可以导出 PDF
✅ 两个 app 都可以安装到主屏幕
```

---

### Day 13 (2026-02-18) - 周三

**目标：** 端到端测试

- [ ] Task D1: 端到端测试
  - [ ] IsoSnap 完整流程测试
  - [ ] PlanSnap 完整流程测试
  - [ ] Bug 记录

**End of Day 验收：**
```bash
✅ IsoSnap 完整流程通过
✅ PlanSnap 完整流程通过
✅ Bug 清单已记录
```

---

### Day 14 (2026-02-19) - 周四

**目标：** 存储测试 + Bug 修复

**上午：**
- [ ] Task D2: 存储和恢复测试
  - [ ] IsoSnap 数据恢复测试
  - [ ] PlanSnap 数据恢复测试
  - [ ] 跨产品数据隔离测试

**下午：**
- [ ] Bug 修复
  - [ ] 修复 Day 13 发现的 Bug
  - [ ] 回归测试

**End of Day 验收：**
```bash
✅ 数据恢复正常
✅ 主要 Bug 已修复
```

---

### Day 15 (2026-02-20) - 周五

**目标：** 最终验收 + Demo 准备

**上午：**
- [ ] 最终验收
  - [ ] IsoSnap 合格标准检查
  - [ ] PlanSnap 合格标准检查
  - [ ] 共享基础设施检查

**下午：**
- [ ] Demo 准备
  - [ ] 准备演示数据
  - [ ] 准备演示脚本
  - [ ] 团队走查

**End of Day 验收：**
```bash
✅ 所有合格标准通过
✅ Demo 准备完成
```

**🎯 Sprint 1 完成！**

---

## 🔥 每日站会检查点

### 每天早上 9:00

**3 个问题：**
1. 昨天完成了什么？（勾选了哪些 [ ]）
2. 今天计划做什么？（今天的任务清单）
3. 有什么阻碍？（需要帮助的地方）

---

### 每天下午 5:00

**验收检查：**
1. 今天的 End of Day 验收通过了吗？
2. 有哪些任务没完成？为什么？
3. 需要调整计划吗？

---

## 🚨 风险预警

### 如果 Week 1 结束时进度 < 30%
**应对：** 
- 立即会议
- 砍掉 PlanSnap
- 专注 IsoSnap

### 如果 Week 2 结束时进度 < 70%
**应对：**
- 确定必须延长到 Week 3
- 砍掉部分功能（Fixture, 视觉反馈）

---

## ✅ Sprint 1 最终验收清单

### IsoSnap
- [ ] 能画出完整 bathroom group isometric
- [ ] 所有管真实连接
- [ ] 可以整体修改
- [ ] 导出后 inspector 能看懂

### PlanSnap
- [ ] 能画完整 2D layout
- [ ] 能拖、改、不崩
- [ ] 导出可给客户解释

### 共享基础设施
- [ ] PWA 可以安装
- [ ] 离线可以打开
- [ ] IndexedDB 存储稳定
- [ ] PNG/PDF 导出清晰

---

**加油！一步一步来，每天勾选进度，2-3周后我们就有两个能卖的产品了！** 💪
